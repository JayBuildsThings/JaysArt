<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jay's Art Collection - Homepage</title>
    
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        /* Custom styles to enhance the voxel gallery feel (Shared Styles) */
        :root {
            --primary-color: #2c3e50; /* Darker blue-gray for text */
            --background-color: #e0f2f7; /* Lighter blue background */
            --accent-color: #7fbcf2; /* Light blue */
            --secondary-accent-color: #4a90e2; /* Deeper blue for contrast */
            --border-color: #2c3e50; /* Dark borders for cartoon/voxel outline look */
            --shadow-color: #1a2633; /* Sharp dark shadow */
            --font-sans: "Inter", sans-serif; /* For all text */
        }

        /* Google Fonts - Keep Inter as the main font */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;800;900&display=swap');

        body {
            font-family: var(--font-sans);
            background-color: var(--background-color);
            color: var(--primary-color);
            min-height: 100vh;
            line-height: 1.6;
            
            /* Voxel Grid Background Pattern */
            background-image: 
                linear-gradient(rgba(74, 144, 226, 0.1) 1px, transparent 1px),
                linear-gradient(90deg, rgba(74, 144, 226, 0.1) 1px, transparent 1px);
            background-size: 20px 20px;
        }

        /* Voxel-like card styling - Sharp Corners, Thick Borders */
        .gallery-card, .detail-card {
            position: relative;
            border: 4px solid var(--border-color);
            box-shadow: 8px 8px 0px 0px var(--shadow-color); /* Deep, sharp shadow */
            transition: all 0.1s ease; 
            cursor: pointer;
            background-color: #ffffff;
            border-radius: 0; /* Sharp edges for voxel look */
        }

        .gallery-card:hover {
            transform: translate(-2px, -2px); /* Lift effect */
            box-shadow: 10px 10px 0px 0px var(--shadow-color);
        }
        
        .gallery-card:active {
            transform: translate(4px, 4px); /* Press down effect */
            box-shadow: 4px 4px 0px 0px var(--shadow-color);
        }
        
        .gallery-card img {
            border: 2px solid var(--border-color); 
            image-rendering: pixelated; 
            border-radius: 0;
        }

        .app-header {
            background-color: var(--accent-color);
            border-bottom: 4px solid var(--border-color);
            padding: 1rem 0; 
        }

        .app-header h1, .pixel-text {
            font-family: var(--font-sans); 
            font-weight: 900; 
            text-transform: uppercase;
            letter-spacing: 0.1em; 
            color: white; 
            text-shadow: 3px 3px 0px var(--border-color); 
            font-size: clamp(1rem, 4vw, 2rem);
            line-height: 1.2; 
        }
        
        /* Voxel Button Styling */
        .voxel-btn {
            font-family: var(--font-sans); 
            font-weight: 800; 
            text-transform: uppercase;
            border: 3px solid var(--border-color);
            box-shadow: 4px 4px 0px 0px var(--shadow-color);
            transition: all 0.1s;
            border-radius: 0; 
        }
        
        .voxel-btn:hover {
            transform: translate(-1px, -1px);
            box-shadow: 5px 5px 0px 0px var(--shadow-color);
        }

        .voxel-btn:active {
            transform: translate(2px, 2px);
            box-shadow: 2px 2px 0px 0px var(--shadow-color);
        }

        .install-prompt-container {
            background-color: #fff;
            border-top: 4px solid var(--border-color);
            box-shadow: 0 -4px 0px 0px rgba(0,0,0,0.1);
        }

        .install-button {
            background-color: var(--accent-color);
            color: white;
        }
        
        .close-prompt-button {
            background-color: #ff6b6b; /* Red for close/cancel */
            color: white;
        }

        h2.content-heading {
            font-family: var(--font-sans); 
            font-weight: 800; 
            color: var(--primary-color);
            border-bottom: 4px solid var(--border-color);
            padding-bottom: 0.8rem;
            margin-bottom: 1.5rem;
            font-size: clamp(1.2rem, 4vw, 1.5rem); 
            text-transform: uppercase;
            letter-spacing: 0.1em; 
        }
    </style>

    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#4a90e2">

</head>
<body>

    <div id="app" class="min-h-screen flex flex-col">
        <!-- Header -->
        <header class="app-header sticky top-0 z-10">
            <div class="max-w-4xl mx-auto px-4 py-3 sm:py-4 flex justify-between items-center">
                <h1 id="header-title" class="pixel-text">
                    JAY'S ART<br>COLLECTION
                </h1>
                <!-- Back button is hidden on the home page -->
                <a href="index.html" class="hidden voxel-btn back-button"></a>
            </div>
        </header>

        <!-- Main Content View -->
        <main class="max-w-4xl mx-auto px-4 py-8 flex-grow w-full">
            <div id="content-container">
                <!-- Content will be rendered here -->
            </div>
        </main>
        
        <!-- PWA Install Banner/Modal -->
        <div id="install-prompt-container" 
             class="install-prompt-container fixed bottom-0 left-0 w-full p-3 hidden z-20 text-center border-t-4 border-gray-900">
            <div class="max-w-4xl mx-auto flex flex-col sm:flex-row justify-between items-center w-full">
                <p class="text-xs mb-2 sm:mb-0 pixel-text text-gray-800 !text-shadow-none">
                    INSTALL APP TO YOUR DEVICE?
                </p>
                <div class="space-x-2 flex mt-2 sm:mt-0">
                    <button id="install-button" class="voxel-btn install-button py-1 px-3 text-xs">
                        INSTALL
                    </button>
                    <button id="close-prompt-button" class="voxel-btn close-prompt-button py-1 px-3 text-xs" onclick="hideInstallPrompt(true)">
                        NOT NOW
                    </button>
                </div>
            </div>
        </div>
    </div>


    <script>
        // --- 1. DATA STRUCTURE (Only necessary for the home view) ---
        const data = {
            galleries: [
                {
                    id: 'orsay',
                    name: 'Orsay Museum, Paris',
                    subtitle: 'Impressionist and Post-Impressionist masterpieces.',
                    image: 'https://placehold.co/400x250/2c3e50/a7d9f7?text=Orsay+Gallery', 
                    // CRUCIAL: Link is updated to the new standalone page
                    pageUrl: 'orsay.html' 
                },
                // NEW: Added Van Gogh Museum link
                {
                    id: 'vangogh',
                    name: 'Van Gogh Museum, Amsterdam',
                    subtitle: 'Largest collection of works by Vincent van Gogh.',
                    image: 'https://placehold.co/400x250/f0b429/1a2633?text=Van+Gogh+Gallery', 
                    pageUrl: 'vangogh.html' 
                }
            ]
        };

        // --- 2. STATE & UI ELEMENTS ---
        const contentContainer = document.getElementById('content-container');
        const installPromptContainer = document.getElementById('install-prompt-container');
        const installButton = document.getElementById('install-button');
        let deferredInstallPrompt = null;


        // --- 3. RENDERING FUNCTIONS ---

        /**
         * Renders the main gallery list view.
         */
        function renderHomeView() {
            let html = '<h2 class="content-heading">SELECT A GALLERY</h2>';
            html += '<div class="grid grid-cols-1 md:grid-cols-2 gap-8">';
            
            data.galleries.forEach(gallery => {
                // The entire card is now a link to the standalone page
                html += `
                    <a href="${gallery.pageUrl}" class="gallery-card p-6 flex flex-col items-start block no-underline text-inherit">
                        <div class="w-full border-2 border-gray-800 mb-4 bg-gray-100">
                             <img src="${gallery.image}" 
                                 onerror="this.onerror=null;this.src='https://placehold.co/150x100/2c3e50/a7d9f7?text=GALLERY'"
                                 alt="${gallery.name}" 
                                 class="w-full h-40 object-cover block">
                        </div>
                        <div class="w-full">
                            <h3 class="font-sans font-extrabold !text-primary-color !text-shadow-none text-sm sm:text-base mb-2 leading-tight">${gallery.name.toUpperCase()}</h3>
                            <p class="text-xs font-sans text-gray-600 mb-4 border-l-4 border-gray-300 pl-2">${gallery.subtitle}</p>
                            <button class="voxel-btn w-full bg-yellow-400 text-black py-2 text-xs hover:bg-yellow-300">
                                ENTER GALLERY
                            </button>
                        </div>
                    </a>
                `;
            });
            
            html += '</div>';
            contentContainer.innerHTML = html;
        }

        // --- 4. PWA INSTALLATION LOGIC (Simplified) ---

        const INSTALL_PROMPT_KEY = 'installPromptStatus'; 
        const REJECT_TIMESTAMP_KEY = 'installPromptRejectTimestamp'; 
        const TEN_DAYS_MS = 10 * 24 * 60 * 60 * 1000;

        function shouldShowInstallPrompt() {
            const status = localStorage.getItem(INSTALL_PROMPT_KEY);
            const rejectTimestamp = parseInt(localStorage.getItem(REJECT_TIMESTAMP_KEY), 10);
            
            if (status === 'accepted') return false;
            if (!status) return true; 
            if (status === 'rejected') {
                return (Date.now() - rejectTimestamp) > TEN_DAYS_MS;
            }
            return false; 
        }

        function hideInstallPrompt(wasRejected = false) {
            installPromptContainer.classList.add('hidden');
            if (wasRejected) {
                localStorage.setItem(INSTALL_PROMPT_KEY, 'rejected');
                localStorage.setItem(REJECT_TIMESTAMP_KEY, Date.now().toString());
            } else {
                localStorage.setItem(INSTALL_PROMPT_KEY, 'accepted');
            }
        }

        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredInstallPrompt = e;
            if (shouldShowInstallPrompt()) {
                installPromptContainer.classList.remove('hidden');
            }
        });

        installButton.addEventListener('click', async () => {
            if (deferredInstallPrompt) {
                deferredInstallPrompt.prompt();
                const { outcome } = await deferredInstallPrompt.userChoice;
                
                if (outcome === 'accepted') {
                    hideInstallPrompt(false); 
                } else {
                    hideInstallPrompt(true); 
                }
                deferredInstallPrompt = null;
            } else {
                console.log("Use your browser's 'Add to Home Screen' to install.");
            }
        });

        // --- 5. INITIALIZATION ---

        window.onload = function() {
            renderHomeView();
        };

    </script>
</body>
</html>
